# MaiBot æ’ä»¶å¼€å‘æ¨¡æ¿

> è¿™æ˜¯ä¸€ä¸ªå®˜æ–¹çš„ MaiBot æ’ä»¶å¼€å‘æ¨¡æ¿ä»“åº“ï¼Œéµå¾ªæœ€æ–°çš„å®˜æ–¹æ–‡æ¡£æ ‡å‡†ï¼Œæä¾›äº†å®Œæ•´çš„é¡¹ç›®ç»“æ„å’Œæœ€ä½³å®è·µç¤ºä¾‹ã€‚

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![MaiBot](https://img.shields.io/badge/MaiBot-Plugin-green.svg)](https://docs.mai-mai.org/)

## âœ¨ ç‰¹æ€§

- ğŸ—ï¸ **å®Œæ•´é¡¹ç›®ç»“æ„** - åŒ…å«æ‰€æœ‰å¿…è¦çš„æ–‡ä»¶å’Œç›®å½•
- ğŸ“‹ **æ ‡å‡†Manifest** - éµå¾ªå®˜æ–¹è§„èŒƒçš„æ’ä»¶å…ƒæ•°æ®
- ğŸ”§ **é…ç½®Schema** - è‡ªåŠ¨é…ç½®ç”Ÿæˆå’Œç‰ˆæœ¬ç®¡ç†
- ğŸ¯ **ç¤ºä¾‹ç»„ä»¶** - Actionå’ŒCommandçš„æœ€ä½³å®è·µç¤ºä¾‹
- ğŸ§ª **æµ‹è¯•æ¡†æ¶** - å®Œæ•´çš„å•å…ƒæµ‹è¯•è¦†ç›–
- ğŸ“– **è¯¦ç»†æ–‡æ¡£** - æ¸…æ™°çš„ä»£ç æ³¨é‡Šå’Œä½¿ç”¨è¯´æ˜
- ğŸ› ï¸ **å¼€å‘å·¥å…·** - ManifestéªŒè¯å’Œæ–‡æ¡£ç”Ÿæˆè„šæœ¬

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
plugin-template/
â”œâ”€â”€ plugin.py                    # ä¸»æ’ä»¶æ–‡ä»¶
â”œâ”€â”€ _manifest.json              # æ’ä»¶å…ƒæ•°æ®ï¼ˆå¼ºåˆ¶è¦æ±‚ï¼‰
â”œâ”€â”€ README.md                   # æœ¬æ–‡æ¡£
â”œâ”€â”€ requirements.txt            # Pythonä¾èµ–
â”œâ”€â”€ config_example.toml         # é…ç½®ç¤ºä¾‹ï¼ˆä»…ä¾›å‚è€ƒï¼‰
â”œâ”€â”€ components/                 # ç»„ä»¶ç›®å½•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ actions/                # Actionç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ greeting_action.py  # ç¤ºä¾‹Action
â”‚   â”‚   â””â”€â”€ smart_response_action.py
â”‚   â””â”€â”€ commands/               # Commandç»„ä»¶
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ help_command.py     # ç¤ºä¾‹Command
â”‚       â””â”€â”€ config_command.py
â”œâ”€â”€ utils/                      # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ helpers.py
â”œâ”€â”€ tests/                      # æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_plugin.py          # æ’ä»¶æµ‹è¯•
â”‚   â”œâ”€â”€ test_actions.py         # Actionæµ‹è¯•
â”‚   â””â”€â”€ test_commands.py        # Commandæµ‹è¯•
â””â”€â”€ scripts/                    # è„šæœ¬ç›®å½•
    â”œâ”€â”€ validate_manifest.py    # ManifestéªŒè¯è„šæœ¬
    â””â”€â”€ generate_docs.py        # æ–‡æ¡£ç”Ÿæˆè„šæœ¬
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨æ­¤æ¨¡æ¿åˆ›å»ºæ–°æ’ä»¶

1. **åˆ›å»ºæ–°ä»“åº“**
   - ç‚¹å‡»å³ä¸Šè§’çš„ "Use this template" æŒ‰é’®
   - æˆ–è€…ç›´æ¥å…‹éš†æ­¤ä»“åº“ï¼š
   ```bash
   git clone https://github.com/your-username/plugin-template.git my-plugin
   cd my-plugin
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   ```

3. **éªŒè¯ç¯å¢ƒ**
   ```bash
   # éªŒè¯manifestæ–‡ä»¶
   python scripts/validate_manifest.py
   
   # è¿è¡Œæµ‹è¯•
   python -m pytest tests/
   ```

### è‡ªå®šä¹‰æ‚¨çš„æ’ä»¶

1. **ä¿®æ”¹æ’ä»¶ä¿¡æ¯**
   - ç¼–è¾‘ `_manifest.json` æ›´æ–°æ’ä»¶å…ƒæ•°æ®
   - ä¿®æ”¹ `plugin.py` ä¸­çš„æ’ä»¶ç±»åå’Œæè¿°
   - æ›´æ–° `README.md` ä¸ºæ‚¨çš„æ’ä»¶è¯´æ˜

2. **å®ç°åŠŸèƒ½ç»„ä»¶**
   - åœ¨ `components/actions/` æ·»åŠ æ‚¨çš„Actionç»„ä»¶
   - åœ¨ `components/commands/` æ·»åŠ æ‚¨çš„Commandç»„ä»¶
   - æ ¹æ®éœ€è¦ä¿®æ”¹é…ç½®Schema

3. **æµ‹è¯•å’ŒéªŒè¯**
   - ç¼–å†™å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹
   - ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
   - éªŒè¯manifestæ–‡ä»¶æ ¼å¼æ­£ç¡®

## ğŸ“‹ æ¨¡æ¿ç‰¹ç‚¹

### âœ… ç¬¦åˆå®˜æ–¹æ ‡å‡†
- **Manifestæœºåˆ¶** - å®Œæ•´çš„ `_manifest.json` æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰å¿…éœ€å’Œå¯é€‰å­—æ®µ
- **é…ç½®ç³»ç»Ÿ** - Schemaé©±åŠ¨çš„é…ç½®ç”Ÿæˆï¼Œæ”¯æŒç‰ˆæœ¬ç®¡ç†å’Œè‡ªåŠ¨è¿ç§»
- **Actionç»„ä»¶** - ä¸¤å±‚å†³ç­–æœºåˆ¶ã€å®Œæ•´æ¿€æ´»ç±»å‹æ”¯æŒã€èŠå¤©æ¨¡å¼æ§åˆ¶
- **Commandç»„ä»¶** - æ­£åˆ™åŒ¹é…ã€å‚æ•°æ•è·ã€æ‹¦æˆªæ§åˆ¶ã€é”™è¯¯å¤„ç†
- **å¼€å‘è§„èŒƒ** - ä»£ç é£æ ¼ã€é”™è¯¯å¤„ç†ã€æ–‡æ¡£æ³¨é‡Šã€å•å…ƒæµ‹è¯•

### ğŸ¯ æœ€ä½³å®è·µç¤ºä¾‹

#### Actionè®¾è®¡åŸåˆ™
- **æ™ºèƒ½æ¿€æ´»** - åˆç†é€‰æ‹©æ¿€æ´»ç±»å‹ï¼Œé¿å…è¿‡åº¦æ¿€æ´»
- **å•ä¸€èŒè´£** - æ¯ä¸ªActionåªè´Ÿè´£ä¸€ä¸ªæ˜ç¡®çš„åŠŸèƒ½  
- **æ¸…æ™°æè¿°** - æä¾›å‡†ç¡®çš„action_requireå¸®åŠ©LLMå†³ç­–
- **é”™è¯¯å¤„ç†** - å¦¥å–„å¤„ç†æ‰§è¡Œè¿‡ç¨‹ä¸­çš„å¼‚å¸¸æƒ…å†µ

#### Commandè®¾è®¡åŸåˆ™
- **å‘½ä»¤ç›´è§‚** - ä½¿ç”¨æ¸…æ™°çš„å‘½ä»¤æ ¼å¼ï¼ˆåŠ¨ä½œ+å¯¹è±¡+å‚æ•°ï¼‰
- **å‚æ•°éªŒè¯** - æ—©æœŸéªŒè¯å‚æ•°æœ‰æ•ˆæ€§
- **å¸®åŠ©å®Œæ•´** - æä¾›è¯¦ç»†çš„å¸®åŠ©ä¿¡æ¯å’Œç¤ºä¾‹
- **æ‹¦æˆªæ§åˆ¶** - åˆç†è®¾ç½®æ‹¦æˆªè¡Œä¸º

#### é…ç½®ç®¡ç†åŸåˆ™
- **Schemaä¼˜å…ˆ** - æ‰€æœ‰é…ç½®é¡¹éƒ½åœ¨config_schemaä¸­å£°æ˜
- **ç‰ˆæœ¬ç®¡ç†** - åŠæ—¶æ›´æ–°config_version
- **é»˜è®¤å®‰å…¨** - æä¾›åˆç†çš„é»˜è®¤å€¼
- **æ–‡æ¡£è‡ªåŠ¨** - ä¾é Schemaç”Ÿæˆé…ç½®æ–‡æ¡£

## ï¿½ï¸ å¼€å‘å·¥å…·

### ManifestéªŒè¯
éªŒè¯æ‚¨çš„æ’ä»¶å…ƒæ•°æ®æ–‡ä»¶æ˜¯å¦ç¬¦åˆè§„èŒƒï¼š
```bash
python scripts/validate_manifest.py
```

### æ–‡æ¡£ç”Ÿæˆ
è‡ªåŠ¨ç”Ÿæˆæ’ä»¶æ–‡æ¡£ï¼š
```bash
python scripts/generate_docs.py
```

### æµ‹è¯•è¿è¡Œ
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest tests/

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
python -m pytest tests/test_actions.py

# æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
python -m pytest tests/ --cov=components
```

## ï¿½ å­¦ä¹ èµ„æº

- [MaiBot å®˜æ–¹æ–‡æ¡£](https://docs.mai-mai.org/)
- [æ’ä»¶å¼€å‘æŒ‡å—](https://docs.mai-mai.org/develop/plugin_develop/)
- [Action ç»„ä»¶å¼€å‘](https://docs.mai-mai.org/develop/plugin_develop/action/)
- [Command ç»„ä»¶å¼€å‘](https://docs.mai-mai.org/develop/plugin_develop/command/)
- [é…ç½®ç³»ç»Ÿè¯´æ˜](https://docs.mai-mai.org/develop/plugin_develop/config/)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿ä¸ºæ­¤æ¨¡æ¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æ­¤ä»“åº“
2. åˆ›å»ºæ‚¨çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ä¸€ä¸ª Pull Request

## ï¿½ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ’¬ è·å¾—å¸®åŠ©

å¦‚æœæ‚¨åœ¨ä½¿ç”¨æ­¤æ¨¡æ¿æ—¶é‡åˆ°é—®é¢˜ï¼š

- æŸ¥çœ‹ [Issues](https://github.com/MaiM-with-u/plugin-template/issues) ä¸­æ˜¯å¦æœ‰ç±»ä¼¼é—®é¢˜
- é˜…è¯» [å®˜æ–¹æ–‡æ¡£](https://docs.mai-mai.org/) è·å–æ›´å¤šä¿¡æ¯
- åœ¨ [Discussions](https://github.com/MaiM-with-u/plugin-template/discussions) ä¸­æé—®

## ğŸ‰ å¼€å§‹å¼€å‘

ç°åœ¨æ‚¨å·²ç»å‡†å¤‡å¥½å¼€å§‹å¼€å‘æ‚¨çš„ç¬¬ä¸€ä¸ª MaiBot æ’ä»¶äº†ï¼è®°ä½ï¼š

1. ğŸ“– **é˜…è¯»æ–‡æ¡£** - ç†Ÿæ‚‰å®˜æ–¹å¼€å‘æŒ‡å—
2. ğŸ§ª **ç¼–å†™æµ‹è¯•** - ç¡®ä¿ä»£ç è´¨é‡
3. ğŸ“ **æ›´æ–°æ–‡æ¡£** - å¸®åŠ©å…¶ä»–å¼€å‘è€…ç†è§£æ‚¨çš„æ’ä»¶
4. ğŸ”„ **æŒç»­æ”¹è¿›** - æ ¹æ®ç”¨æˆ·åé¦ˆä¸æ–­ä¼˜åŒ–

ç¥æ‚¨å¼€å‘æ„‰å¿«ï¼ğŸš€

---

**æ³¨æ„**: æ­¤æ¨¡æ¿ä¸¥æ ¼éµå¾ª MaiBot å®˜æ–¹æ–‡æ¡£çš„æœ€ä½³å®è·µï¼Œç¡®ä¿æ‚¨çš„æ’ä»¶èƒ½å¤Ÿä¸ä¸»ç³»ç»Ÿå®Œç¾é›†æˆã€‚
